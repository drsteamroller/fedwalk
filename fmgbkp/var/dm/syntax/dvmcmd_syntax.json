{
	"macro": {
		"ENABLE_OPTIONS": {
			"disable": 0,
			"enable": 1 
		},
		"ADD_DEV_FLAGS_OPTIONS": {
			"none": 0,
			"create_task": 1,
			"nonblocking": 2,
			"log_dev": 4
		},
		"FLAGS_OPTIONS": {
			"none": 0,
			"create_task": 1,
			"nonblocking": 2
		},
		"FROM_OPTIONS": {
			"um": 0,
			"fgfm": 1,
			"apache": 2,
			"dvm": 3,
			"fwm": 4,
			"xml": 5,
			"json": 6
		},
		"OS_VER_OPTIONS": {
			"unknown": -1,
			"0.0": 0,
			"1.0": 1,
			"2.0": 2,
			"3.0": 3,
			"4.0": 4,
			"5.0": 5,
			"6.0": 6,
			"7.0": 7,
			"8.0": 8
		},
		"OS_TYPE_OPTIONS": {
			"unknown": -1,
			"fos": 0,
			"fsw": 1,
			"foc": 2,
			"fml": 3,
			"faz": 4,
			"fwb": 5,
			"fch": 6,
			"fct": 7,
			"log": 8,
			"fmg": 9,
			"fsa": 10,
			"fdd": 11,
			"fac": 12,
			"fpx": 13,
			"fna": 14 
		},
		"MGMT_MODE_OPTIONS": {
			"unreg": 0,
			"fmg": 1,
			"faz": 2,
			"fmgfaz": 3 
		},
		"HA_MODE_OPTIONS": {
			"standalone": 0,
			"AP": 1,
			"AA": 2,
			"ELBC": 3,
			"DUAL": 4,
			"fmg-enabled": 5,
			"autoscale": 6,
			"unknown": 7 
		},

		"ADD_DEV_ATTRS": {
			"device action": {
				"type": "string"
			},
			"device blueprint": {
				"type": "string"
			},
			"name": {
				"type": "string",
				"sz": 36 
			},
			"sn": {
				"type": "string",
				"sz": 16
			},
			"platform_str": {
				"type": "string",
				"sz": 32
			},
			"desc": {
				"type": "string",
				"sz": 128 
			},
			"os_type": {
				"type": "int32",
				"opts": "$OS_TYPE_OPTIONS"
			},
			"os_ver": {
				"type": "int32",
				"opts": "$OS_VER_OPTIONS"
			},
			"mgmt_mode": {
				"type": "int32",
				"opts": "$MGMT_MODE_OPTIONS"
			},
			"mr": {
				"type": "int16"
			},
			"patch": {
				"type": "int16"
			},
			"adm_usr": {
				"type": "string",
				"sz": 36 
			},
			"adm_pass": {
				"type": "passwd",
				"sz": 128 
			},
			"ip": {
				"type": "string",
				"sz": 45 
			},
			"faz.quota": {
				"type": "uint32" 
			},
			"ha_mode": {
				"internal": 1,
				"type": "int32",
				"opts": "$HA_MODE_OPTIONS"
			},
			"ha_group_name": {
				"internal": 1,
				"type": "string",
				"sz": 36 
			},
			"ha_slave": {
				"internal": 1,
				"type": "table",
				"refer": "/dvmdb/device/ha_slave"
			}
		}

	},
	"obj": {
		"add/device": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"sz": 36,
					"limit": 1,
					"extref": "/dvmdb/adom"
				},
				"flags": {
					"type": "uint32",
					"opts": "$ADD_DEV_FLAGS_OPTIONS",
					"default": 0,
					"excluded": false
				},
				"groups": { 
					"type": "scope object",
					"extref": "/dvmdb/group"
				}
			},
			"subobj": {
				"device": {
					"type": "obj",
					"meta fields": 1,
					"attr": "$ADD_DEV_ATTRS"
				}
			},
			"response": {
				"device": { 
					"type": "obj",
					"refer": "/dvmdb/device"
				},
				"taskid": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				},
				"pid": {
					"type": "uint32"
				}
			}
		},

		"add/dev-list": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"sz": 36,
					"limit": 1,
					"extref": "/dvmdb/adom"
				},
				"flags": {
					"type": "uint32",
					"opts": "$FLAGS_OPTIONS",
					"default": 0,
					"excluded": false
				}
			},
			"subobj": {
				"add-dev-list": {
					"type": "table",
					"meta fields": 1,
					"attr": "$ADD_DEV_ATTRS"
				}
			},
			"response": {
				"taskid": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				},
				"pid": {
					"type": "uint32"
				}
			}
		},

		"promote/dev-list": {
			"type": "command",
			"internal": 1,
			"attr": {
				"adom": {
					"type": "datasrc",
					"sz": 36,
					"limit": 1,
					"extref": "/dvmdb/adom"
				},
				"flags": {
					"type": "uint32",
					"opts": "$FLAGS_OPTIONS",
					"default": 0,
					"excluded": false
				},
				"add-dev-list": { 
					"type": "table",
					"refer": "/dvmdb/device"
				},
				"del-dev-list": { 
					"type": "table",
					"refer": "/dvmdb/device"
				}
			},
			"response": {
				"taskid": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				},
				"pid": {
					"type": "uint32"
				}
			}
		},
		
		"manage/device": {
			"type": "command",
			"internal": 1,
			"attr": {
				"device": { 
					"type": "obj",
					"refer": "/dvmdb/device"
				},
				"from": {
					"type": "int32",
					"opts": "$FROM_OPTIONS",
					"default": 6
				},
				"create_unreg": {
					"type": "int32",
					"opts": "$ENABLE_OPTIONS",
					"default": 0
				}
			},
			"response": {
				"device": { 
					"type": "obj",
					"refer": "/dvmdb/device"
				}
			}
		},

		"update/ha": {
			"type": "command",
			"internal": 1,
			"attr": {
				"name": {
					"type": "string",
					"sz": 36 
				},
				"ha_mode": {
					"type": "int32",
					"opts": "$HA_MODE_OPTIONS"
				},
				"ha_group_name": {
					"type": "string",
					"sz": 36 
				},
				"ha_slave": {
					"type": "table",
					"refer": "/dvmdb/device/ha_slave"
				}
			}
		},

		"import/dev-list": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"sz": 36,
					"limit": 1,
					"extref": "/dvmdb/adom"
				},
				"flags": {
					"type": "uint32",
					"opts": "$FLAGS_OPTIONS",
					"default": 0,
					"excluded": false
				},
				"import-devices": { 
					"type": "table",
					"refer": "/dvmdb/device"
				},
				"import-adoms": { 
					"type": "table",
					"refer": "/dvmdb/adom"
				}
			},
			"subobj": {
				"import-adom-members": { 
					"type": "table",
					"attr": {
						"adom": {
							"type": "string",
							"sz": 36 
						},
						"dev": {
							"type": "string",
							"sz": 36 
						},
						"vdom": {
							"type": "string",
							"sz": 36 
						}
					}
				},
				"import-group-members": { 
					"type": "table",
					"attr": {
						"adom": {
							"type": "string",
							"sz": 36 
						},
						"grp": {
							"type": "string",
							"sz": 36 
						},
						"dev": {
							"type": "string",
							"sz": 36 
						},
						"vdom": {
							"type": "string",
							"sz": 36 
						}
					}
				}
			},
			"response": {
				"taskid": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				},
				"pid": {
					"type": "uint32"
				}
			}
		},
		
		"discover/device": {
			"type": "command",
			"attr": {
			},
			"subobj": {
				"device": { 
					"type": "obj",
					"attr": {
						"ip": {
							"type": "ip4"
						},
						"adm_usr": {
							"type": "string",
							"sz": 36 
						},
						"adm_pass": {
							"type": "string",
							"sz": 32 
						}
					}
				}
			},
			"response": {
				"device": { 
					"type": "obj",
					"refer": "/dvmdb/device"
				},
				"taskid": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				},
				"pid": {
					"type": "uint32"
				}
			}
		},

		"update/device": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"sz": 36,
					"limit": 1,
					"extref": "/dvmdb/adom"
				},
				"flags": {
					"type": "uint32",
					"opts": "$FLAGS_OPTIONS",
					"default": 0,
					"excluded": false
				},
				"device": { 
					"type": "datasrc",
					"sz": 36,
					"limit": 1,
					"extref": "/dvmdb/device"
				}
			},
			"response": {
				"taskid": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				},
				"pid": {
					"type": "uint32"
				}
			}
		},

		"update/dev-list": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"sz": 36,
					"limit": 1,
					"extref": "/dvmdb/adom"
				},
				"flags": {
					"type": "uint32",
					"opts": "$FLAGS_OPTIONS",
					"default": 0,
					"excluded": false
				},
				"update-dev-member-list": {
					"type": "scope object",
					"extref": "/dvmdb/device"
				}
			},
			"response": {
				"taskid": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				},
				"pid": {
					"type": "uint32"
				}
			}
		},

		"reload/dev-list": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"sz": 36,
					"limit": 1,
					"extref": "/dvmdb/adom"
				},
				"flags": {
					"type": "uint32",
					"opts": "$FLAGS_OPTIONS",
					"default": 0,
					"excluded": false
				},
				"reload-dev-member-list": {
					"type": "scope object",
					"extref": "/dvmdb/device"
				},
				"from": {
					"type": "int32",
					"opts": "$FROM_OPTIONS",
					"default": 6
				},
				"tag": {
					"type": "string",
					"sz": 50
				}
			},
			"response": {
				"taskid": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				},
				"pid": {
					"type": "uint32"
				}
			}
		},

		"del/device": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"sz": 36,
					"limit": 1,
					"extref": "/dvmdb/adom"
				},
				"flags": {
					"type": "uint32",
					"opts": "$FLAGS_OPTIONS",
					"default": 0,
					"excluded": false
				},
				"device": {
					"type": "datasrc",
					"sz": 36,
					"limit": 1,
					"extref": "/dvmdb/device"
				}
			},
			"response": {
				"taskid": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				},
				"pid": {
					"type": "uint32"
				}
			}
		},

		"del/dev-list": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"sz": 36,
					"limit": 1,
					"extref": "/dvmdb/adom"
				},
				"flags": {
					"type": "uint32",
					"opts": "$FLAGS_OPTIONS",
					"default": 0,
					"excluded": false
				},
				"del-dev-member-list": {
					"type": "scope object",
					"extref": "/dvmdb/device"
				}
			},
			"response": {
				"taskid": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				},
				"pid": {
					"type": "uint32"
				}
			}
		},

		"change-ha-seq": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"sz": 36,
					"limit": 1,
					"extref": "/dvmdb/adom"
				},
				"flags": {
					"type": "uint32",
					"opts": "$FLAGS_OPTIONS",
					"default": 0,
					"excluded": false
				},
				"device": { 
					"type": "datasrc",
					"sz": 36,
					"limit": 1,
					"extref": "/dvmdb/device"
				},
				"new_master": {
					"type": "datasrc",
					"sz": 36,
					"limit": 1,
					"extref": "/dvmdb/device"
				}
			},
			"response": {
				"taskid": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				},
				"pid": {
					"type": "uint32"
				}
			}
		},

		"change-swmode": {
			"type": "command",
			"internal": 1,
			"attr": {
				"device": {
					"type": "string",
					"sz": 36 
				},
				"mode": {
					"type": "string"
				}
			}
		},

		"set/devdata": {
			"type": "command",
			"internal": 1,
			"attr": {
				"device": {
					"type": "uint64"
				},
				"flags": {
					"type": "uint32"
				},
				"set_flags": {
					"type": "uint32"
				},
				"clear_flags": {
					"type": "uint32"
				},
				"taskid": {
					"type": "uint64"
				}
			}
		},

		"get/devdata": {
			"type": "command",
			"internal": 1,
			"attr": {
				"device": {
					"type": "uint64"
				},
				"flags": {
					"type": "uint32"
				},
				"set_flags": {
					"type": "uint32"
				},
				"clear_flags": {
					"type": "uint32"
				},
				"taskid": {
					"type": "uint64"
				}
			},
			"response": {
				"device": {
					"type": "uint64"
				},
				"flags": {
					"type": "uint32"
				},
				"taskid": {
					"type": "uint64"
				}
			}
		}
	}
}
