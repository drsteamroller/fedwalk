{
	"macro": {
		"ENABLE_OPTIONS": {
			"disable": 0,
			"enable": 1 
		},
		"SCRIPT_F_IFGLOBAL":        1,
		"SCRIPT_F_ELBC_ENABLED":    2,
		"SCRIPT_F_CONTAINER":       4,
		"SCRIPT_F_PREVIEW":         8,
		"SCRIPT_F_IGNORE_HA":       16,

		"SCRIPT_MODE_BATCH": 		0,
		"SCRIPT_MODE_INTERACTIVE": 	1,
		"SCRIPT_MODE_DRYRUN": 		2,
		"SCRIPT_MODE_VERIFY": 		3,
		"SCRIPT_MODE_CONTAINER":	4,

		"RCS_CHECK_IN_F_KEEP_FILE": 	1,
		"RCS_CHECK_IN_F_REVERT": 	2,

		"SCRIPT_F_CHKPERM_ONLY": 	1,

		"SCRIPT_F_TCL": 		1,

		"RESYNC_F_CLEAN_FILE": 	1,
		"RESYNC_F_CHECKIN": 	2,
		"RESYNC_F_DPM": 	4,

		"UPDATE_F_SYNC": 	1,
		"UPDATE_F_NO_CHECKIN":	2,

		"CONTROLLER_UPD_OPTIONS": {
			"savedb": 1,
			"resync": 2
		},
		"CONTROLLER_TYPES": {
			"wtp": 1,
			"fext": 2,
			"fsw": 4 
		},
		"IMPORT_OPTIONS": {
			"create_task": 1
		},
		"EXPORT_CONFIG_OPTIONS": {
			"skip": 1,
			"resync": 2,
			"ignore_ha": 4
		},
		"FIXUP_CONFIG_OPTIONS": {
			"if_global": 1,
			"check_error": 2
		}
	},
	"obj": {
		"export/config": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "dvmdb/device"
				},
				"dbfile": {
					"type": "string" 
				},
				"export-file": {
					"type": "string"
				},
				"flags": {
					"type": "int32",
					"opts": "$EXPORT_CONFIG_OPTIONS",
					"default": 0
				}
			}
		},

		"devdb/commit": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "dvmdb/device"
				},
				"session": {
					"type": "int32"
				},
				"vdoms": {
					"type": "datasrc",
					"extref": "dvmdb/device/vdom"
				},
				"cflags": {
					"type": "int32"
				},
				"flags": {
					"type": "int32"
				}
			}
		},

		"resync/device": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "dvmdb/device"
				},
				"fname": {
					"type": "string"
				},
				"flags": {
					"type": "int32",
					"opts": {
						"clean-file": "$RESYNC_F_CLEAN_FILE",
						"checkin": "$RESYNC_F_CHECKIN",
						"dpm": "$RESYNC_F_DPM"
					},
					"default": 0
				},
				"task": {
					"type": "int64"
				}
			}
		},

		"remove/dpm/db": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "dvmdb/device"
				},
				"adom": {
					"type": "datasrc",
					"extref": "dvmdb/adom"
				}
			}
		},

		"del/revision": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "dvmdb/device"
				},
				"from-rev": {
					"type": "int32"
				},
				"to-rev": {
					"type": "int32"
				}
			}
		},
		"fixup/config": {
			"attr": {
				"conf-file": {
					"type": "string" 
				},
				"info-file": {
					"type": "string" 
				},
				"checkout-file": {
					"type": "string" 
				},
				"flags": {
					"type": "int32",
					"opts": "$FIXUP_CONFIG_OPTIONS"
				},
				"vdoms": {
					"refer": "dvmdb/device/vdom"
				}
			}
		},
		"diff/config": {
			"type": "command",
			"attr": {
				"running-conf": {
					"type": "string" 
				},
				"target-conf": {
					"type": "string"
				},
				"script": {
					"type": "string"
				},
				"vdoms": {
					"type": "datasrc",
					"extref": "dvmdb/device/vdom"
				},
				"flags": {
					"type": "int32",
					"opts": {
						"if_global": "$SCRIPT_F_IFGLOBAL",
						"elbc_enabled": "$SCRIPT_F_ELBC_ENABLED",
						"container": "$SCRIPT_F_CONTAINER",
						"preview": "$SCRIPT_F_PREVIEW",
						"ignore_ha": "$SCRIPT_F_IGNORE_HA"
					}
				},
				"script-mode": {
					"type": "int32",
					"opts": { 
						"script-mode-batch": "$SCRIPT_MODE_BATCH",
						"script-mode-interactive": "$SCRIPT_MODE_INTERACTIVE",
						"script-mode-dryrun": "$SCRIPT_MODE_DRYRUN",
						"script-mode-verify": "$SCRIPT_MODE_VERIFY",
						"script-mode-container": "$SCRIPT_MODE_CONTAINER"
					}
				},
				"session": {
					"type": "int32"
				}
			},
			"response": {
				"nhost": {
					"type": "string"
				},
				"npasswd": {
					"type": "string"
				},
				"has-diff-cmd": {
					"type": "int32",
					"opts": "$ENABLE_OPTIONS"
				},
				"vdoms": {
					"type": "datasrc",
					"extref": "dvmdb/device/vdom"
				}
			}
		},

		"sync/dvm/cache": {
			"attr": {
				"device": {
					"refer": "dvmdb/device"
				},
				"flags": {
					"type": "int32"
				}
			}
		},

		"set/dev/status": {
			"attr": {
				"device": {
					"refer": "dvmdb/device"
				},
				"flags": {
					"type": "int32"
				},
				"vdoms": {
					"refer": "dvmdb/device/vdom"
				}
			}
		},

		"/pkgassign/batch": {
			"attr": {
				"device": {
					"refer": "dvmdb/device"
				},
				"type": {
					"type": "int32"
				},
				"status": {
					"type": "int32"
				}
			}
		},

		"set/rcs/devinfo": {
			"attr": {
				"device": {
					"refer": "dvmdb/device"
				},
				"revision": {
					"type": "int32"
				},
				"flags": {
					"type": "int32"
				},
				"vdoms": {
					"refer": "dvmdb/device/vdom"
				},
				"subobj": {
					"chksum": {
						"type": "table",
						"attr": {
							"allcsum": {
								"type": "string",
								"sz": 64 
							},
							"fgtcsum": {
								"type": "string",
								"sz": 64 
							},
							"glbcsum": {
								"type": "string",
								"sz": 64 
							},
							"vdx": {
								"type": "string",
								"sz": 36 
							},
							"vdxcsum": {
								"type": "string",
								"sz": 64 
							}
						}
					}
				}
			}
		},

		"/dvm/batch": {
			"attr": {
			}
		},

		"/task/batch": {
			"attr": {
			}
		},

		"rcs/checkin": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "dvmdb/device"
				},
				"fname": {
					"type": "string" 
				},
				"usr": {
					"type": "string"
				},
				"package": {
					"refer": "package"
				},
				"flags": {
					"type": "int32",
					"opts": {
						"keep-file": "$RCS_CHECK_IN_F_KEEP_FILE",
						"revert": "$RCS_CHECK_IN_F_REVERT"
					}
				}
			}
		},

		"rcs/checkout": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "dvmdb/device"
				},
				"fname": {
					"type": "string" 
				},
				"rev": {
					"type": "int32"
				}
			}
		},
		
		"get/dev/revision": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "dvmdb/device"
				},
				"base_ver": {
					"type": "int32",
					"opts": "$ENABLE_OPTIONS",
					"default": 0
				}
			},
			"response": {
				"revinfo": {
					"type": "obj",
					"attr": {
						"devid": {"type": "uint64"},
						"revision": {"type": "int32"},
						"status": {"type": "int32"},
						"reason_inst_fail": {"type": "int32"},
						"fromfgt": {"type": "int32"},
						"modtime": {"type": "string"},
						"instime": {"type": "string"},
						"modusr": {"type": "string"},
						"instusr": {"type": "string"},
						"tag": {"type": "string"},
						"comments": {"type": "string"},
						"chksum": {"type": "string"},
						"extra_info": {"type": "string"}
					}
				},
				"base_ver": {
					"type": "int32"
				}
			}		
		},
	
		"get/rev/status": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "dvmdb/device"
				},
				"rev": {
					"type": "int32"
				}
			}
		},

		"config/checkin": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "/dvmdb/device"
				},
				"usr": {
					"type": "string"
				},
				"file": { 
					"type": "string"
				}

			}
		},

		"config/checkout": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "/dvmdb/device"
				},
				"rev": { 
					"type": "int32" 
				},
				"vdoms": { 
					"type": "datasrc",
					"extref": "dvmdb/device/vdom"
				},
				"usr": {
					"type": "string"
				},
				"file": { 
					"type": "string"
				}

			}
		},

		"config/revert": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "/dvmdb/device"
				},
				"rev": { 
					"type": "int32" 
				},
				"usr": {
					"type": "string"
				}

			}
		},

		"install/script": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": ["dvmdb/device", "dvmdb/adom"]
				},
				"script": {
					"type": "string"
				},
				"log": {
					"type": "string"
				},
				"target": {
					"type": "string"
				},
				"adminusr": {
					"type": "string"
				},
				"package": {
					"type": "datasrc",
					"extref": "pm/pkg"
				},
				"flags": {
					"type": "int32",
					"opts": {
						"check-perm-only": "$SCRIPT_F_CHKPERM_ONLY"
					}
				}
			}
		},

		"install/tclscript": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": ["dvmdb/device"]
				},
				"script": {
					"type": "string"
				},
				"adminusr": {
					"type": "string"
				},
				"log": {
					"type": "string"
				}
			}
		},


		"export/default/config": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "dvmdb/device"
				},
				"export_file": {
					"type": "string"
				},
				"flags": {
					"type": "int32"
				}
			}
		},

		"update/export": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": ["dvmdb/device"]
				},
				"fname": {
					"type": "string"
				},
				"export-fname": {
					"type": "string"
				},
				"flags": {
					"type": "int32",
					"opts": {
						"sync": "$UPDATE_F_SYNC",
						"no-checkin": "$UPDATE_F_NO_CHECKIN"
					}
				}
			}
		},

		"update/ip-conflict-status": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": ["dvmdb/device"]
				},
				"status": {
					"type": "string"
				}
			}
		},

		"get/gmap/session": {
			"type": "command",
			"attr": {
				"flags": {
					"type": "int32"
				}
			}
		},

		"get/ha/session": {
			"type": "command",
			"attr": {
				"flags": {
					"type": "int32"
				}
			}
		},

		"wtpstatus/parse": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "dvmdb/device"
				},
				"adom": {
					"type": "datasrc",
					"extref": "dvmdb/adom"
				},
				"vdom": { 
					"type": "datasrc",
					"extref": "dvmdb/device/vdom"
				},
				"savedb": { 
					"type": "int32" 
				},
				"fname": {
					"type": "string"
				}
			}
		},
		"install/revision": {
			"type": "command",
			"attr": {
				"task": {
					"type": "datasrc",
					"extref": "/task/task"
				},
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom"
				},
				"device": {
					"type": "datasrc",
					"extref": "/dvmdb/device"
				},
				"rev": {
					"type": "int32"
				},
				"preview": {
					"type": "int32"
				},
				"adminusr": {
					"type": "string"
				}
			}
		},
		"revert": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "/dvmdb/device"
				},
				"rev": {
					"type": "int32"
				},
				"adminusr": {
					"type": "string"
				}
			}
		},
		"import-config": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "/dvmdb/device"
				},
				"fname": {
					"type": "string"
				},
				"adminusr": {
					"type": "string"
				},
				"comments": {
					"type": "string"
				},
				"flags": {
					"type": "int32",
					"opts": "$IMPORT_OPTIONS",
					"default": 0
				}
			}
		},
		"import-ext": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "/dvmdb/device"
				},
				"fname": {
					"type": "string"
				}
			}
		},
		"sync/config": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "/dvmdb/device"
				},
				"adminusr": {
					"type": "string"
				},
				"bak-file": {
					"type": "string"
				},
				"resync": {
					"type": "int32"
				},
				"need-token": {
					"type": "int32",
					"opts": "$ENABLE_OPTIONS",
					"default": 0
				}
			}
		},
		"sync/config-ext2": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "/dvmdb/device"
				},
				"adminusr": {
					"type": "string"
				}
			}
		},
		"task/install/script": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom"
				},
				"package": {
					"type": "datasrc",
					"extref": "pm/pkg"
				},
				"device": {
					"type": "table",
					"extref": "/dvmdb/device"
				},
				"script": {
					"type": "int64"
				},
				"adminusr": {
					"type": "string"
				},
				"iftcl": {
					"type": "int32"
				},
				"ondb": {
					"type": "int32"
				},
				"task": {
					"type": "int64"
				}
			},
			"response": {
				"task": {
					"type": "int64"
				},
				"need-del-sched": {
					"type": "int32",
					"opts": "$ENABLE_OPTIONS"
				}
			}
		},
		"make/cache-db": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "/dvmdb/device"
				},
				"need-token": {
					"type": "int32",
					"opts": "$ENABLE_OPTIONS",
					"default": 0
				}
			}
		},
		"fgfm-task": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "/dvmdb/device"
				},
				"task": {
					"type": "array"
				},
				"need-token": {
					"type": "int32",
					"opts": "$ENABLE_OPTIONS",
					"default": 0
				}
			}
		},
		"update/controller": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom"
				},
				"device": {
					"type": "datasrc",
					"extref": "/dvmdb/device"
				},
				"fname": {
					"type": "string"
				},
				"resp-fname": {
					"type": "array"
				},
				"options": {
					"type": "int32",
					"opts": "$CONTROLLER_UPD_OPTIONS",
					"default": 0
				},
				"ctypes": {
					"type": "int32",
					"opts": "$CONTROLLER_TYPES",
					"default": 0
				}
			}
		},
		"register/fgfm/agent": {
			"type": "command",
			"attr": {
				"device": {
					"type": "datasrc",
					"extref": "/dvmdb/device"
				}
			}
		},
		"check/rtm/scope": {
			"type": "command"
		},
		"/proc/rest/data": {
			"type": "command",
			"dir": {
				"type": "string"
			}
		},
		"remove/revision": {
			"type": "command",
			"attr": {
				"device": {
					"refer": "/dvmdb/device"
				},
				"usr": {
					"type": "string"
				},
				"ifall": {
					"type": "int32"
				},
				"from": {
					"type": "int32"
				},
				"to": {
					"type": "int32"
				}
			}
		},
		"probe/faz/ha": {
			"type": "command",
			"attr": {
				"device": {
					"refer": "/dvmdb/device"
				}
			}
		},
		"auto/register": {
			"type": "command",
			"attr": {
				"device": {
					"refer": "/dvmdb/device"
				},
				"adm_usr": {
					"type": "string"
				},
				"adm_pass": {
					"type": "passwd"
				},
				"host": {
					"type": "string"
				}
			}
		},
		"install/license": {
			"type": "command",
			"attr": {
				"device": {
					"refer": "/dvmdb/device"
				},
				"type": {
					"type": "int32"
				},
				"user": {
					"type": "string"
				},
				"password": {
					"type": "string"
				},
				"program": {
					"type": "string"
				},
				"asset_folder": {
					"type": "string"
				},
				"config_id": {
					"type": "int32"
				},
				"license": {
					"type": "string"
				},
				"task": {
					"type": "int64"
				}
			}
		}
	}
}
