{
	"macro": {
		"DOM_GLOBAL":  1,
		"DOM_VDOM":    2,

		"SUPPORT_M_NO_DOMAIN": 8,
		"SUPPORT_M_ALL": 12,
		"SUPPORT_M_GLOBAL": 16,
		"SUPPORT_M_NONE_OR_ADOM": 24,
		"SUPPORT_M_NO_URL": 4096,

		"META_IMPORTANCE": {
			"optional": 0,
			"required": 1
		},

		"ENABLE_OPTS": {
			"disable": 0,
			"enable": 1
		},
	},
	"obj": {
		"workspace/lock": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
			},
			"response": {
			}
		},
		"workspace/lock/pkg": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
			},
			"response": {
			}
		},
		"workspace/lock/obj": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
			},
			"response": {
			}
		},
		"workspace/lock/dev": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"attr": {
			},
			"response": {
			}
		},
		"workspace/lock/oid": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"internal": 1,
			"attr": {
			},
			"response": {
			}
		},
		"workspace/unlock": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
			},
			"response": {
			}
		},
		"workspace/unlock/pkg": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
			},
			"response": {
			}
		},
		"workspace/unlock/obj": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
			},
			"response": {
			}
		},
		"workspace/unlock/dev": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"attr": {
			},
			"response": {
			}
		},
		"workspace/unlock/oid": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"internal": 1,
			"attr": {
			},
			"response": {
			}
		},
		"workspace/commit": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
			},
			"response": {
			}
		},
		"workspace/commit/pkg": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
			},
			"response": {
			}
		},
		"workspace/commit/obj": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
			},
			"response": {
			}
		},
		"workspace/commit/dev": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"attr": {
			},
			"response": {
			}
		},
		"workspace/commit/oid": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"internal": 1,
			"attr": {
			},
			"response": {
			}
		},
		"workspace/lockinfo": {
			"type": "obj",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
				"adom_dirty": { "type": "int32" },
				"db_mode": { "type": "int32" },
				"dev_oid": { "type": "uint64" },
				"dirty": { "type": "int32" },
				"flags": { "type": "int32"},
				"lock_sid": { "type": "int32" },
				"lock_time": { "type": "string" },
				"lock_user": { "type": "string" },
				"obj_cat": { "type": "int32" },
				"obj_oid": { "type": "uint64" },
				"wfsid": { "type": "uint64" }
			}
		},
		"workspace/lockinfo/pkg": {
			"type": "obj",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
				"adom_dirty": { "type": "int32" },
				"db_mode": { "type": "int32" },
				"dev_oid": { "type": "uint64" },
				"dirty": { "type": "int32" },
				"flags": { "type": "int32"},
				"lock_sid": { "type": "int32" },
				"lock_time": { "type": "string" },
				"lock_user": { "type": "string" },
				"obj_cat": { "type": "int32" },
				"obj_oid": { "type": "uint64" },
				"wfsid": { "type": "uint64" }
			}
		},
		"workspace/lockinfo/obj": {
			"type": "obj",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
				"adom_dirty": { "type": "int32" },
				"db_mode": { "type": "int32" },
				"dev_oid": { "type": "uint64" },
				"dirty": { "type": "int32" },
				"flags": { "type": "int32"},
				"lock_sid": { "type": "int32" },
				"lock_time": { "type": "string" },
				"lock_user": { "type": "string" },
				"obj_cat": { "type": "int32" },
				"obj_oid": { "type": "uint64" },
				"wfsid": { "type": "uint64" }
			}
		},
		"workspace/lockinfo/dev": {
			"type": "obj",
			"domain": "$DOM_VDOM",
			"attr": {
				"adom_dirty": { "type": "int32" },
				"db_mode": { "type": "int32" },
				"dev_oid": { "type": "uint64" },
				"dirty": { "type": "int32" },
				"flags": { "type": "int32"},
				"lock_sid": { "type": "int32" },
				"lock_time": { "type": "string" },
				"lock_user": { "type": "string" },
				"obj_cat": { "type": "int32" },
				"obj_oid": { "type": "uint64" },
				"wfsid": { "type": "uint64" }
			}
		},
		"workspace/lockinfo/oid": {
			"type": "obj",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"internal": 1,
			"attr": {
				"adom_dirty": { "type": "int32" },
				"db_mode": { "type": "int32" },
				"dev_oid": { "type": "uint64" },
				"dirty": { "type": "int32" },
				"flags": { "type": "int32"},
				"lock_sid": { "type": "int32" },
				"lock_time": { "type": "string" },
				"lock_user": { "type": "string" },
				"obj_cat": { "type": "int32" },
				"obj_oid": { "type": "uint64" },
				"wfsid": { "type": "uint64" }
			}
		},
		"workspace/dirty": {
			"type": "obj",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
				"dirty": { "type": "int32" }
			}
		},
		"workspace/dirty/dev": {
			"type": "obj",
			"domain": "$DOM_VDOM",
			"attr": {
				"dirty": { "type": "int32" }
			}
		},

		"workflow/start": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
				"name": { "type": "string" },
				"desc": { "type": "string" }
			},
			"response": {
				"sessionid":  { "type": "uint64" }
			}
		},
		"workflow/save": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
			},
			"response": {
			}
		},
		"workflow/discard": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
			},
			"response": {
			}
		},
		"workflow/drop": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
			},
			"response": {
			}
		},
		"workflow/repair": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
				"desc": { "type": "string" }
			},
			"response": {
				"sessionid":  { "type": "uint64" }
			}
		},
		"workflow/submit": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
				"desc": { "type": "string" },
				"no_mail": { "type": "int32" },
				"no_diff": { "type": "int32" },
				"fmgip": { "type": "string" },
				"mail_user": { "type": "array" }
			},
			"response": {
			}
		},
		"workflow/approve": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
				"desc": { "type": "string" }
			},
			"response": {
			}
		},
		"workflow/reject": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
				"desc": { "type": "string" }
			},
			"response": {
			}
		},
		"workflow/review": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
			},
			"response": {
			}
		},
		"workflow/revert": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
				"desc": { "type": "string" },
				"no_mail": { "type": "int32" },
				"no_diff": { "type": "int32" },
				"fmgip": { "type": "string" },
				"mail_user": { "type": "array" }
			},
			"response": {
			}
		},
		"workflow/delete": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"internal": 1,
			"attr": {
			},
			"response": {
			}
		},
		"device/replace/sn": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_NONE_OR_ADOM",
			"attr": {
				"sn": { "type": "string" }
			},
			"response": {
			}
		},
		"script/log/latest": {
			"type": "obj",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"no_key": 1,
			"attr": {
				"log_id": { "type": "int32" },
				"script_name": { "type": "string" },
				"exec_time": { "type": "string" },
				"content": { "type": "string" }
			}
		},
		"script/log/output/logid": {
			"type": "obj",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"attr": {
				"log_id": { "type": "int32" },
				"script_name": { "type": "string" },
				"exec_time": { "type": "string" },
				"content": { "type": "string" }
			}
		},
		"script/log/summary": {
			"type": "table",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"no_key": 1,
			"attr": {
				"seq": { "type": "int32" },
				"log_id": { "type": "int32" },
				"script_name": { "type": "string" },
				"exec_time": { "type": "string" }
			}
		},
		"script/log/list": {
			"type": "table",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_GLOBAL",
			"no_key": 1,
			"attr": {
				"seq": { "type": "int32" },
				"log_id": { "type": "int32" },
				"script_name": { "type": "string" },
				"exec_time": { "type": "string" },
				"content": { "type": "string" }
			}
		},
		"script/log/latest/device": {
			"type": "obj",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_NONE_OR_ADOM",
			"attr": {
				"log_id": { "type": "int32" },
				"script_name": { "type": "string" },
				"exec_time": { "type": "string" },
				"content": { "type": "string" }
			}
		},
		"script/log/output/device": {
			"type": "table",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_NO_URL",
			"attr": {
				"name": { "type": "string"}
			},
			"subobj": {
				"logid": {
					"type": "obj",
					"support_mode": "$SUPPORT_M_NONE_OR_ADOM",
					"attr": {
						"log_id": { "type": "int32" },
						"script_name": { "type": "string" },
						"exec_time": { "type": "string" },
						"content": { "type": "string" }
					}
				}
			}
		},
		"script/log/summary/device": {
			"type": "table",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_NONE_OR_ADOM",
			"attr": {
				"seq": { "type": "int32" },
				"log_id": { "type": "int32" },
				"script_name": { "type": "string" },
				"exec_time": { "type": "string" }
			}
		},
		"script/log/list/device": {
			"type": "table",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_NONE_OR_ADOM",
			"attr": {
				"seq": { "type": "int32" },
				"log_id": { "type": "int32" },
				"script_name": { "type": "string" },
				"exec_time": { "type": "string" },
				"content": { "type": "string" }
			}
		},
		"script/execute": {
			"type": "command",
			"domain": "$DOM_VDOM",
			"support_mode": "$SUPPORT_M_ALL",
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom",
					"limit": 1,
					"sz": 36 
				},
				"package": {
					"type": "datasrc",
					"extref": "/pm/pkg",
					"limit": 1,
					"sz": 36 
				},
				"script": { "type": "string" },
				"scope": {
					"type": "scope object",
					"extref": [ "/dvmdb/device", "/dvmdb/group" ]
				}
			},
			"response": {
				"task": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				}
			}
		},
		"_meta_fields/group": {
			"type": "table",
			"support_mode": "$SUPPORT_M_NO_DOMAIN",
			"no_key": 1,
			"attr": {
				"name": {
					"type": "string"
				},
				"importance": {
					"type": "int32",
					"opts": "$META_IMPORTANCE"
				},
				"length": {
					"type": "int32"
				},
				"status": {
					"type": "int32",
					"opts": "$ENABLE_OPTS"
				}
			}
		},
		"_meta_fields/device": {
			"type": "table",
			"support_mode": "$SUPPORT_M_NO_DOMAIN",
			"no_key": 1,
			"attr": {
				"name": {
					"type": "string"
				},
				"importance": {
					"type": "int32",
					"opts": "$META_IMPORTANCE"
				},
				"length": {
					"type": "int32"
				},
				"status": {
					"type": "int32",
					"opts": "$ENABLE_OPTS"
				}
			}
		},
		"_meta_fields/adom": {
			"type": "table",
			"support_mode": "$SUPPORT_M_NO_DOMAIN",
			"no_key": 1,
			"attr": {
				"name": {
					"type": "string"
				},
				"importance": {
					"type": "int32",
					"opts": "$META_IMPORTANCE"
				},
				"length": {
					"type": "int32"
				},
				"status": {
					"type": "int32",
					"opts": "$ENABLE_OPTS"
				}
			}
		}
	}
}
