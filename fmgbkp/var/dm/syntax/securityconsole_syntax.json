{
	"macro": {
		"FLAGS_OPTIONS": {
			"none": 0,
			"cp_all_objs": 1,
			"preview": 2,
			"generate_rev": 8,
			"copy_assigned_pkg": 16,
			"unassign": 128,
			"ifpolicy_only": 256,
			"no_ifpolicy": 512,
			"objs_only": 1024,
			"auto_lock_ws": 4096,
			"check_pkg_st": 8192,
			"copy_only": 16384
		},
		"ASSIGN_FLAGS_OPTIONS": {
			"none": 0,
			"cp_all_objs": 1,
			"copy_assigned_pkg": 16,
			"unassign": 128
		},
		"ASSIGN_OBJ_FLAGS_OPTIONS": {
			"none": 0,
			"unassign": 128,
			"del_unused":524288
		},
		"UNASSIGN_FLAGS_OPTIONS": {
			"none": 0,
			"auto_lock_ws": 4096
		},
		"INSTALL_PREVIEW_F_OPTIONS": {
			"none": 0,
			"json": 1
		},
		"DEV_INSTALL_FLAG_OPTIONS": {
			"none": 0,
			"preview": 2,
			"auto_lock_ws": 4096
		}
	},
	"obj": {
		"install/global": {
			"type": "command",
			"internal": 1,
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom",
					"limit": 1,
					"sz": 36 
				},
				"query_only": {
					"type": "int32"
				},
				"override_conflict": {
					"type": "int32"
				},
				"category": {
					"type": "int32"
				},
				"scope": {
					"type": "scope object",
					"extref": [ "/dvmdb/device", "/dvmdb/group" ]
				},
				"src_list": {
					"type": "datasrc",
					"extref": "/pm/config/firewall/policy/id"
				}
			}
		},

		"abort": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom",
					"limit": 1,
					"sz": 36 
				}
			},
			"response": {
			}
		},

		"install/preview": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom",
					"limit": 1,
					"sz": 36 
				},
				"device": {
					"type": "datasrc",
					"extref": "/dvmdb/device",
					"limit": 1
				},
				"vdoms": {
					"type": "array"
				},
				"flags": {
					"type": "uint32",
					"opts": "$INSTALL_PREVIEW_F_OPTIONS",
					"default": 0,
					"excluded": false
				}
			},
			"response": {
				"task": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				}
			}
		},

		"preview/result": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom",
					"limit": 1,
					"sz": 36 
				},
				"device": {
					"type": "datasrc",
					"extref": "/dvmdb/device",
					"limit": 1
				}
			},
			"response": {
				"message": {
					"type": "string"
				}
			}
		},

		"install/package": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom",
					"limit": 1,
					"sz": 36 
				},
				"pkg": {
					"type": "datasrc",
					"extref": "/pm/pkg",
					"limit": 1,
					"sz": 36 
				},
				"flags": {
					"type": "uint32",
					"opts": "$FLAGS_OPTIONS",
					"default": 0,
					"excluded": false
				},
				"scope": {
					"type": "scope object",
					"extref": [ "/dvmdb/device", "/dvmdb/group" ]
				},
				"adom_rev_comments": {
					"type": "string",
					"sz": 127
				},
				"adom_rev_name": {
					"type": "string",
					"sz": 35
				},
				"dev_rev_comments": {
					"type": "string",
					"sz": 127
				}
			},
			"subobj": {
				"target": {
					"type": "table",
					"internal": 1,
					"attr": {
						"adom": {
							"type": "datasrc",
							"extref": "/dvmdb/adom",
							"limit": 1,
							"sz": 36 
						},
						"pkg": {
							"type": "datasrc",
							"refer": "/pm/pkg",
							"limit": 1
						}
					}
				}
			},
			"response": {
				"task": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				}
			}
		},

		"install/device": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom",
					"limit": 1,
					"sz": 36 
				},
				"flags": {
					"type": "uint32",
					"opts": "$DEV_INSTALL_FLAG_OPTIONS",
					"default": 0,
					"excluded": false
				},
				"scope": {
					"type": "scope object",
					"extref": "/dvmdb/device"
				},
				"dev_rev_comments": {
					"type": "string",
					"sz": 127
				}
			},
			"response": {
				"task": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				}
			}
		},

		"import/dev/objs": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom",
					"limit": 1,
					"sz": 36 
				},
				"name": {
					"type": "datasrc",
					"extref": "/dvmdb/device",
					"limit": 1,
					"sz": 36
				},
				"vdom": {
					"type": "datasrc",
					"extref": "/dvmdb/device/vdom",
					"limit": 1,
					"sz": 36
				},
				"import_action": {
					"type": "int32",
					"opts": {
						"do": 0,
						"policy_search": 1,
						"obj_search": 2
					},
					"default": 0
				},
				"if_all_policy": {
					"type": "int32",
					"opts": {
						"disable": 0,
						"enable": 1
					},
					"default": 0
				},
				"if_all_objs": {
					"type": "int32",
					"opts": {
						"none": 0,
						"all": 1,
						"filter": 2
					},
					"default": 0
				},
				"position": {
					"type": "int32",
					"opts": {
						"top": 0,
						"bottom": -1
					},
					"default": 0
				},
				"dst_parent": {
					"type": "datasrc",
					"extref": "/pm/pkg",
					"limit": 1
				},
				"dst_name": {
					"type": "string",
					"sz": 36
				},
				"add_mappings" : {
					"type": "int32",
					"opts": {
						"disable": 0,
						"enable": 1
					},
					"default": 0
				}
			},
			"response": {
				"task": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				}
			}
		},

		"assign/package": {
			"type": "command",
			"attr": {
				"pkg": {
					"type": "datasrc",
					"extref": "/pm/pkg",
					"limit": 1,
					"sz": 36 
				},
				"flags": {
					"type": "uint32",
					"opts": "$ASSIGN_FLAGS_OPTIONS",
					"default": 0,
					"excluded": false
				}
			},
			"subobj": {
				"target": { 
					"type": "table",
					"attr": {
						"adom": {
							"type": "datasrc",
							"extref": "/dvmdb/adom",
							"limit": 1,
							"sz": 36 
						},
						"pkg": {
							"type": "datasrc",
							"refer": "/pm/pkg",
							"limit": 1
						},
						"excluded": {
							"type": "int32",
							"opts": {
								"disable": 0,
								"enable": 1
							},
							"default": 0
						}
					}
				}
			},
			"response": {
				"task": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				}
			}
		},

		"assign/objs":{
			"type": "command",
			"internal":1,
			"attr": {
				"category": {
					"type": "int32"
				},
				"objs": {
					"type": "datasrc",
					"extref": "/pm/config/obj"
				},
				"flags": {
					"type": "uint32",
					"opts": "$ASSIGN_OBJ_FLAGS_OPTIONS",
					"default": 0,
					"excluded": false
				}
			},
			"subobj": {
				"target": { 
					"type": "table",
					"attr": {
						"adom": {
							"type": "datasrc",
							"extref": "/dvmdb/adom",
							"limit": 1,
							"sz": 36 
						},
						"excluded": {
							"type": "int32",
							"opts": {
								"disable": 0,
								"enable": 1
							},
							"default": 0
						}
					}
				}
			},
			"response": {
				"task": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				}
			}
		},

		"unassign/objs": {
			"type": "command",
			"internal": 1,
			"attr": {
				"objs": {
					"type": "datasrc",
					"extref": "/pm/config/obj"
				},
				"flags": {
					"type": "uint32",
					"opts": "$UNASSIGN_FLAGS_OPTIONS",
					"default": 0,
					"excluded": false
				}
			},
			"response": {
				"task": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				}
			}
		},

		"package/commit": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom",
					"limit": 1,
					"sz": 36 
				},
				"scope": {
					"type": "scope object",
					"extref": "/dvmdb/device"
				}
			},
			"response": {
				"task": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				}
			}
		},

		"package/cancel/install": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom",
					"limit": 1,
					"sz": 36 
				}
			},
			"response": {
			}
		},

		"package/clone": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom",
					"limit": 1,
					"sz": 36 
				},
				"pkg": {
					"type": "datasrc",
					"extref": "/pm/pkg",
					"limit": 1,
					"sz": 36 
				},
				"dst_parent": {
					"type": "datasrc",
					"extref": "/pm/pkg",
					"limit": 1,
					"sz": 36
				},
				"dst_name": {
					"type": "string",
					"sz": 36
				},
				"scope": {
					"type": "scope object",
					"extref": [ "/dvmdb/device", "/dvmdb/group" ]
				}
			},
			"response": {
				"task": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				}
			}
		},

		"pblock/clone": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom",
					"limit": 1,
					"sz": 36 
				},
				"pblock": {
					"type": "datasrc",
					"extref": "/pm/pblock",
					"limit": 1,
					"sz": 36 
				},
				"dst_name": {
					"type": "string",
					"sz": 36
				}
			},
			"response": {
				"task": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				}
			}
		},

		"package/move": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom",
					"limit": 1,
					"sz": 36 
				},
				"pkg": {
					"type": "datasrc",
					"extref": "/pm/pkg",
					"limit": 1,
					"sz": 36 
				},
				"dst_parent": {
					"type": "datasrc",
					"extref": "/pm/pkg",
					"limit": 1,
					"sz": 36,
					"optional": 1
				},
				"dst_name": {
					"type": "string",
					"sz": 36,
					"optional": 1
				}
			},
			"response": {
				"task": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				}
			}
		},

		"reinstall/package": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom",
					"limit": 1,
					"sz": 36 
				},
				"flags": {
					"type": "uint32",
					"opts": "$FLAGS_OPTIONS",
					"default": 0,
					"excluded": false
				}
			},
			"subobj": {
				"target": { 
					"type": "table",
					"attr": {
						"pkg": {
							"type": "datasrc",
							"extref": "/pm/pkg",
							"limit": 1,
							"sz": 36
						},
						"scope": {
							"type": "scope object",
							"extref": [ "/dvmdb/device", "/dvmdb/group" ]
						}
					}
				}
			},
			"response": {
				"task": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				}
			}
		},

		"sign/certificate/template": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom",
					"limit": 1,
					"sz": 36 
				},
				"template": {
					"type": "datasrc",
					"extref": "/pm/config/certificate/template/name",
					"limit": 1,
					"sz": 36
				},
				"scope": {
					"type": "scope object",
					"extref": "/dvmdb/device"
				}
			},
			"response": {
				"task": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				}
			}
		},

		"generate/device/controllers": {
			"type": "command",
			"internal": 1,
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom",
					"limit": 1,
					"sz": 36
				},
				"template": {
					"type": "datasrc",
					"extref": "/pm/config/fmg/fabric/authorization/template/name",
					"limit": 1,
					"sz": 64
				},
				"scope": {
					"type": "scope object",
					"extref": "/dvmdb/device"
				}
			},
			"response": {
				"task": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				}
			}
		},

		"pblock/clone": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom",
					"limit": 1,
					"sz": 36 
				},
				"pblock": {
					"type": "datasrc",
					"extref": "/pm/pblock",
					"limit": 1,
					"sz": 36 
				},
				"dst_name": {
					"type": "string",
					"sz": 36
				}
			},
			"response": {
				"task": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				}
			}
		},

		"cliprof/check": {
			"type": "command",
			"attr": {
				"adom": {
					"type": "datasrc",
					"extref": "/dvmdb/adom",
					"limit": 1,
					"sz": 36 
				},
				"cliprof": {
					"type": "string",
					"sz": 36
				},
				"scope": {
					"type": "scope object",
					"extref": [ "/dvmdb/device", "/dvmdb/group" ]
				}
			},
			"response": {
				"task": {
					"type": "datasrc",
					"extref": "/task/task",
					"limit": 1
				}
			}
		},

		"cpu-token/acquire": {
			"type": "command",
			"internal": 1,
			"attr": {
				"pid": {
					"type": "int32"
				},
				"adom": {
					"type": "uint64"
				},
				"ncpu": {
					"type": "int32"
				},
				"timeout": {
					"type": "int32"
				}
			},
			"response": {
			}
		},

		"cpu-token/release": {
			"type": "command",
			"internal": 1,
			"attr": {
				"pid": {
					"type": "int32"
				}
			},
			"response": {
			}
		}
	}
}
